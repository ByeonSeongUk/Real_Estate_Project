<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.rlest.mappers.MemberMapper">

    <!-- 전체 회원 목록 불러오기 -->
    <select id="getMemberList" resultType="Member">
        SELECT /* getMemberList(회원목록조회) */
               email
             , mmbr_pw
             , mmbr_name
             , crt_id
             , crt_dttm
             , upd_id
             , upd_dttm
  FROM member
    </select>
    
    <!-- 회원 불러오기 -->
    <select id="getMember" parameterType="String" resultType="Member">
        SELECT *
        FROM member
        WHERE email = #{email}
    </select>
    
    <!-- 회원 가입 -->
    <insert id="join">
        INSERT INTO MEMBER
        VALUES(#{email}, SHA2(#{mmbr_pw}, 256), #{mmbr_name}, #{crt_id}, now(), #{upd_id}, now())
    </insert>
    
</mapper>